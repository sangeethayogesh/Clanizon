(this["webpackJsonpplot-components"]=this["webpackJsonpplot-components"]||[]).push([[0],{101:function(e,a,t){},233:function(e,a,t){},295:function(e,a,t){},360:function(e,a,t){t(361),e.exports=t(754)},377:function(e,a,t){},451:function(e,a,t){},655:function(e,a,t){},660:function(e,a,t){},661:function(e,a,t){},664:function(e,a,t){},666:function(e,a,t){},667:function(e,a,t){},669:function(e,a,t){},688:function(e,a,t){},692:function(e,a,t){},719:function(e,a,t){},754:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(11),c=t.n(r),s=(t(377),t(113)),o=t(43),u=t(4),i=Object(u.e)({user:null,isLoggedIn:Object(u.c)((function(e){return null!=e.user})),setUser:Object(u.b)((function(e,a){e.user=a})),unsetUser:Object(u.b)((function(e,a){e.user=null}))}),m=t(30),d=t.n(m),p=t(47),E={URL:{GET_ADMIN_MESSAGES:"api/admin_messages",GET_TODAY_LEADS:"http://realkeyip.in:8083/api/leads/leadbyagentanddate?date="+(new Date).toISOString().split("T")[0],GET_ALL_AGENTS:"http://realkeyip.in:8083//api/user/userbyrole?roleId=2",ADD_NEW_AGENT:"http://realkeyip.in:8083//api/user/createuser",ADD_NEW_LEAD:"http://realkeyip.in:8083/api/leads/createlead",GET_LEAD_STATUS_COUNT:"http://realkeyip.in:8083/api/leads/leadbystatus",ADD_NEW_AUDIT:"http://realkeyip.in:8083/api/leads/leadaudit",GET_LEAD_BY_AGENT:"http://realkeyip.in:8083/api/leads/leadbyagent",LOGIN:"http://realkeyip.in:8083/api/user/login",GET_ASSET_GROUPS:"http://realkeyip.in:8083/api/asset/listAssetGroup",ADD_IMAGE_TO_ASSET_GROUP:"http://realkeyip.in:8083/api/documents/adddocument",LIST_GROUP_IMAGE:"http://realkeyip.in:8083/api/documents/listdocumentbygroup?groupId=",ADD_NEW_GROUP:"http://realkeyip.in:8083/api/asset/addgroup",GET_ASSET_BY_GROUP_ID:"http://realkeyip.in:8083/api/asset/listAssetByGroupId",ADD_ASSET:"http://realkeyip.in:8083/api/asset/addAsset"},DATA:{admin_messages:[{message:"hello new plot added on madurai",createdAt:new Date},{message:"hello new plot added on chennai",createdAt:new Date}]},currentAgent:{mobile:"8122723731"},auditStatus:[{auditStatusId:1,auditStatus:"ScheduledCall"},{auditStatusId:2,auditStatus:"Created"},{auditStatusId:3,auditStatus:"DealClose"},{auditStatusId:4,auditStatus:"SiteVisited"}],getLeadStatusById:function(e){return 1==e?"Created":2==e?"Prospecting":3==e?"Closure":4==e?"Converted":5==e?"Completed":void 0}},f=t(326),b=t.n(f).a.create({timeout:5e4,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}),g={messages:[],total:Object(u.c)((function(e){return e.messages.length})),setMessages:Object(u.b)((function(e,a){e.messages=a})),unsetMessages:Object(u.b)((function(e,a){e.messages=[]})),getMessages:Object(u.f)(function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setMessages([]),b.get(E.URL.GET_ADMIN_MESSAGES).then((function(e){a.setMessages(e.data),t()})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}())},h={user:null,setUser:Object(u.b)((function(e,a){e.user=a})),unsetUser:Object(u.b)((function(e,a){e.user=null})),getUsers:Object(u.f)(function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.users([]),b.get(E.URL.GET_USERS).then((function(e){a.setUser(e.data),t()})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}())},y=(t(68),t(17)),O={auth:i,broadCastMeassages:g,users:h,leads:{today_leads:[],allLeads:[],leadsByAgent:[],statusCount:{created:0,prospecting:0,closer:0,completed:0},total:Object(u.c)((function(e){return e.today_leads.length})),setTodayLeads:Object(u.b)((function(e,a){e.today_leads=a})),unsetTodayLeads:Object(u.b)((function(e,a){e.today_leads=[]})),getTodayLeads:Object(u.f)(function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setTodayLeads([]),b.get(t.url).then((function(e){a.setTodayLeads(e.data),t.callback()})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),setAllLeads:Object(u.b)((function(e,a){e.allLeads=a})),unsetAllLeads:Object(u.b)((function(e,a){e.allLeads=[]})),addLead:Object(u.b)((function(e,a){e.allLeads.push(a)})),getLeadStatusCount:Object(u.f)(function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.get(t).then((function(e){a.setLeadStatusCount(e.data)})).catch((function(e){console.error(e),y.a.error("Failed loading status count!")}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),setLeadStatusCount:Object(u.b)((function(e,a){var t=a.filter((function(e){return"Created"==e.category})),n=a.filter((function(e){return"Prospecting"==e.category})),l=a.filter((function(e){return"Closure"==e.category})),r=a.filter((function(e){return"Completed"==e.category}));e.statusCount={created:t[0]?t[0].count:0,prospecting:n[0]?n[0].count:0,closure:l[0]?l[0].count:0,completed:r[0]?r[0].count:0},console.log(e.statusCount)})),getLeadsByAgent:Object(u.f)(function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.get(t.url).then((function(e){a.setLeadsByAgent(e.data),t.callback()})).catch((function(e){console.error(e),y.a.error("Failed loading leads!")}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),setLeadsByAgent:Object(u.b)((function(e,a){e.leadsByAgent=a}))},agents:{list:null,setAgent:Object(u.b)((function(e,a){e.list=a})),unsetAgent:Object(u.b)((function(e,a){e.list=null})),getAllAgents:Object(u.f)(function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setAgent([]),b.get(E.URL.GET_ALL_AGENTS).then((function(e){a.setAgent(e.data),t()})).catch((function(e){y.a.error("Agent loading failed"),console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),addNewAgent:Object(u.b)((function(e,a){e.list.push(a)}))},assets:{assetGroups:null,assetDetails:null,setGroup:Object(u.b)((function(e,a){e.assetGroups=a})),setAsset:Object(u.b)((function(e,a){e.assetDetails=a})),addAsset:Object(u.b)((function(e,a){e.assetDetails.push(a)})),updateAsset:Object(u.b)((function(e,a){var t=e.assetDetails.findIndex((function(e){return e.assetId===a.assetId}));e.assetDetails[t]=a})),unsetGroup:Object(u.b)((function(e,a){e.assetGroups=null})),addNewGroup:Object(u.b)((function(e,a){e.assetGroups.push(a)})),getAssetGroups:Object(u.f)(function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.get(E.URL.GET_ASSET_GROUPS).then((function(e){a.setGroup(e.data),t()})).catch((function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),getAssetById:Object(u.f)(function(){var e=Object(p.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.get(E.URL.GET_ASSET_BY_GROUP_ID+"?groupId="+t.id).then((function(e){a.setAsset(e.data),t.callback()})).catch((function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}())}},S=(t(451),t(180),t(109)),v=(t(39),t(6)),C=(t(53),t(3)),A=(t(169),t(91)),I=t(7),j=(t(57),t(19)),N=(t(464),t(254)),k=(t(282),t(52)),L=(t(468),t(357)),w=(t(146),t(72)),F=(t(38),t(12)),x=(t(471),t(358)),T=(t(473),t(258)),P=t(329),_=t.n(P),D=t(758),G=t(759),R=t(760),M=t(761),U=t(762),B=t(763),q=t(764),V=t(765),z=t(31),W=t.n(z),H=(t(101),T.a.Option),Y=j.a.Header,K=j.a.Sider,J=j.a.Content;var $=function(e){var a=Object(n.useState)(["Deepan","Aswath","Gunalan","Krishnaveni"]),t=Object(I.a)(a,2),r=t[0],c=(t[1],Object(n.useState)("")),i=Object(I.a)(c,2),m=i[0],d=i[1],p=Object(n.useState)([]),E=Object(I.a)(p,2),f=E[0],b=E[1],g=Object(u.h)((function(e){return e.auth.user})),h=Object(u.g)((function(e){return e.auth.setUser})),y=Object(n.useState)(!1),O=Object(I.a)(y,2),S=O[0],A=O[1],P=Object(s.f)();return r.length?l.a.createElement("div",{style:{backgroundColor:"#f0f1f4"}},l.a.createElement(j.a,null,l.a.createElement(Y,{style:{position:"fixed",zIndex:1,width:"100%",paddingRight:0}},l.a.createElement(v.a,{justify:"left"},l.a.createElement(C.a,{span:"19"},l.a.createElement(D.a,{className:"logo",style:{color:"#fff"}}),l.a.createElement("span",{className:"header-title",style:{padding:"1em"}},"\xa0CRM")),l.a.createElement(C.a,{span:"1",style:{textAlign:"center"}},l.a.createElement("div",{className:"divider-left divider-right"},l.a.createElement(G.a,{className:"header-menu"}))),l.a.createElement(C.a,{span:"1",style:{textAlign:"center"}},l.a.createElement("div",{className:"divider-right"},l.a.createElement(x.a,{dot:!0},l.a.createElement(R.a,{className:"header-menu"})))),l.a.createElement(C.a,{span:"2",style:{textAlign:"center"}},l.a.createElement("div",{className:"divider-right"},l.a.createElement(M.a,{className:"header-menu"}),"\xa0",l.a.createElement(W.a,null,g.userFname))),l.a.createElement(C.a,{span:"1",style:{textAlign:"center"}},l.a.createElement(F.a,{type:"link",icon:l.a.createElement(U.a,{className:"header-menu"}),onClick:function(){h(null),P.replace("/login")}})))),l.a.createElement(L.a,{placement:"right",width:"310px",closable:!1,onClose:function(){A(!1)},visible:S,footer:l.a.createElement("div",null,l.a.createElement(v.a,null,l.a.createElement(C.a,{span:"17"},l.a.createElement(T.a,{name:"messageBox",onChange:function(e){d(e)},value:m,style:{width:"100%",height:"40px",borderRadius:"4px",border:"solid 1px #eae9e9"}},r.map((function(e,a){return l.a.createElement(H,{value:e,key:String(a)},e)})))),l.a.createElement(C.a,{span:"3"}),l.a.createElement(C.a,{span:"2"},l.a.createElement(F.a,{onClick:function(){d(""),b(f.concat([{messageValue:m,time:+new Date}]))},style:{width:"40px",height:"40px",borderRadius:"4px",backgroundColor:"#feae2e"}},l.a.createElement(B.a,{style:{transform:"rotate(-30deg)",color:"white",fontSize:"25px",position:"absolute",right:"1px",bottom:"-6px"}})))),l.a.createElement("div",{className:"message-tile-meta"},"Use @ for select agent"))},l.a.createElement("div",{style:{position:"relative",height:"auto",width:"100%",bottom:"0px"}},f.map((function(e,a){return l.a.createElement("div",{className:"message-tile",key:a},e.messageValue,l.a.createElement(w.a,{style:{backgroundColor:"#ccc9c9",top:"20px"}}),l.a.createElement(v.a,null,l.a.createElement(C.a,{span:"15",className:"message-tile-meta"},"Deepan"),l.a.createElement(C.a,{span:"auto"}),l.a.createElement(C.a,{span:"8",className:"message-tile-meta"},l.a.createElement(_.a,{date:e.time,minPeriod:10,live:!0}))))})))),l.a.createElement(j.a,null,l.a.createElement(K,{width:!1!==e.drawer||"none",style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:"4rem",display:!1!==e.drawer||"none"},className:"site-layout-background"},l.a.createElement(k.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0}},l.a.createElement(k.a.Item,{key:"1",className:"sidemenu"},l.a.createElement(o.b,{to:"1"==g.userRole?"/admin":"/agent"},l.a.createElement(D.a,{className:"menuitem"}))),l.a.createElement(k.a.Item,{key:"2",className:"sidemenu"},l.a.createElement(o.b,{to:"1"==g.userRole?"/admin/overall-product-report":"/agent/leads"},l.a.createElement(q.a,{className:"menuitem"}))),"2"==g.userRole&&l.a.createElement(k.a.Item,{key:"3",className:"sidemenu"},l.a.createElement(o.b,{to:"/agent/area-list"},l.a.createElement(V.a,{className:"menuitem"}))))),!1===e.drawer?l.a.createElement(j.a,null,l.a.createElement(J,{className:"site-layout-background"},l.a.createElement(N.a,null),e.children)):l.a.createElement(j.a,{style:{padding:"1rem 1rem 1rem"}},l.a.createElement(J,{className:"site-layout-background",style:{marginTop:64,minHeight:"100vh",marginLeft:"5rem"}},l.a.createElement(N.a,null),e.children))))):l.a.createElement("div",null,"Loading...")},X=t(766),Q=t(767),Z=(t(102),t(5)),ee=(t(103),t(15)),ae=(t(100),t(27)),te=(t(295),ae.a.Option),ne={labelCol:{span:6},wrapperCol:{span:18}},le={wrapperCol:{offset:8,span:16}},re=function(e){return l.a.createElement("div",null,l.a.createElement(Z.a,Object.assign({},ne,{name:"basic",initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"false"}),l.a.createElement(Z.a.Item,{colon:!1,label:"Property name",name:"property_name",rules:[{required:!0,message:"Please enter the name of the property!"}]},l.a.createElement(ee.a,null)),l.a.createElement(Z.a.Item,{colon:!1,label:"Address",name:"address",rules:[{required:!0,message:"Please enter the address of the property"}]},l.a.createElement(ee.a,{placeholder:"13/xxx,ttyuuu"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Property Value (sq.ft)",name:"property_value",rules:[{required:!0,message:"Please enter property value"}]},l.a.createElement(ee.a,{placeholder:"1570"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Location",name:"Location",rules:[{required:!0,message:"Please enter location"}]},l.a.createElement(ee.a,{placeholder:"https://www.google.com/maps/place/"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Land Value / Sq.Ft ( Rs. )",name:"land_value",rules:[{required:!0,message:"Please enter land value"}]},l.a.createElement(ee.a,{placeholder:"1700"})),l.a.createElement(Z.a.Item,{name:"select",label:"Select",hasFeedback:!0,rules:[{required:!0,message:"Please select the plot type!"}]},l.a.createElement(ae.a,{placeholder:"Residential Plot"},l.a.createElement(te,{value:"resident"},"Residential plot"),l.a.createElement(te,{value:"commercial"},"Commercial plot"))),l.a.createElement(Z.a.Item,le,l.a.createElement(F.a,{type:"primary",htmlType:"submit"},"Save"),l.a.createElement(F.a,{htmlType:"button",style:{margin:"0 8px"}},"Cancel"))))},ce=ae.a.Option,se={labelCol:{span:6},wrapperCol:{span:18}},oe={wrapperCol:{offset:8,span:16}},ue=function(e){var a=Z.a.useForm(),t=Object(I.a)(a,1)[0],r=Object(n.useState)(!1),c=Object(I.a)(r,2),s=c[0],o=c[1],i=Object(u.g)((function(e){return e.agents.addNewAgent}));return l.a.createElement("div",null,l.a.createElement(Z.a,Object.assign({},se,{name:"basic",initialValues:{remember:!0},form:t,onFinish:function(a){console.log("Success:",a);var n=a;n.agent.userPassword=n.agent.userMobile,n.agent.userMobileAlt=n.agent.userMobileAlt?n.agent.userMobileAlt:"0123456789",n.agent.userRole=2,o(!0),b.post(E.URL.ADD_NEW_AGENT,n.agent).then((function(a){i(a.data),y.a.success("Agent Added"),o(!1),t.resetFields(),e.doClose()})).catch((function(e){y.a.error("Failed!"),console.error(e),o(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"new-email"}),l.a.createElement(Z.a.Item,{colon:!1,label:"First name",name:["agent","userFname"],rules:[{required:!0,message:"Please enter First name!"}]},l.a.createElement(ee.a,{placeholder:"First Name"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Second name",name:["agent","userSname"]},l.a.createElement(ee.a,{placeholder:"Second Name"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Agent Email",name:["agent","userEmailid"]},l.a.createElement(ee.a,{placeholder:"E-mail"})),l.a.createElement(Z.a.Item,{label:"Mobile Number",name:["agent","userMobile"],colon:!1,rules:[{required:!0,message:"Mobile Number is required"},{pattern:/^\d{10}$/,message:"Enter a valid mobile number"}]},l.a.createElement(ee.a,{style:{width:"50%"},placeholder:"Mobile Number"})),l.a.createElement(Z.a.Item,{label:"Alt Mobile Number",name:["agent","userMobileAlt"],colon:!1},l.a.createElement(ee.a,{style:{width:"50%"},placeholder:"Alternate Mobile Number"})),l.a.createElement(Z.a.Item,{colon:!1,name:["agent","userAddress"],label:"Address"},l.a.createElement(ee.a.TextArea,{placeholder:"Address"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Occupation",name:["agent","userOccupation"]},l.a.createElement(ee.a,{placeholder:"Occupation"})),l.a.createElement(Z.a.Item,{colon:!1,label:"City",name:["agent","userCity"]},l.a.createElement(ee.a,{placeholder:"City"})),l.a.createElement(Z.a.Item,{name:["agent","userCountry"],label:"Country"},l.a.createElement(ae.a,{placeholder:"Country"},l.a.createElement(ce,{value:"India"},"India"))),l.a.createElement(Z.a.Item,oe,l.a.createElement(F.a,{type:"primary",htmlType:"submit",loading:s},"Save"),l.a.createElement(F.a,{disabled:s,htmlType:"button",onClick:function(){t.resetFields(),e.doClose()},style:{margin:"0 8px"}},"Cancel"))))},ie=t(337),me=j.a.Content,de=function(){var e=Object(s.f)(),a=Object(u.g)((function(e){return e.agents.getAllAgents})),t=Object(u.h)((function(e){return e.agents.list})),r=Object(n.useState)(!1),c=Object(I.a)(r,2),o=c[0],i=c[1],m=Object(n.useState)(!1),d=Object(I.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(!1),b=Object(I.a)(f,2),g=b[0],h=b[1];Object(n.useEffect)((function(){h(!0),a((function(){h(!1)}))}),[]);var y=function(){console.log("Cancel agent model"),i(!o)},O=[{title:"Agents",key:"name",render:function(e){return l.a.createElement("span",null,e.userFname)}},{key:"secondname",render:function(e){return e.userSname?e.userSname:""}},{key:"mobile",render:function(e){return e.userMobile}},{key:"email",render:function(e){return l.a.createElement("span",{className:"table-email"},e.userEmailid)}},{title:l.a.createElement(X.a,{className:"table-icon",style:{fontSize:"20px"},onClick:y}),key:"city",render:function(e){return e.userCity}},{title:l.a.createElement(Q.a,{style:{fontSize:"20px"}}),key:"role",render:function(e){return e.userOccupation}}];return l.a.createElement(j.a,null,l.a.createElement($,null,l.a.createElement(j.a,null,l.a.createElement(j.a,null,l.a.createElement(me,{className:"site-layout-background",style:{margin:0,minHeight:"100vh"}},l.a.createElement("div",{className:"rectangle"},l.a.createElement("div",{style:{padding:"1rem"}},l.a.createElement("div",{className:"body-header"},"Welcome back Admin"),l.a.createElement("div",{className:"body-content",style:{fontSize:"14px"}},"You\u2019ve earned 80% in this week ! Keep it up and improve your goals Lorem Ipsum is simply dummy text of the printing and typesetting industry."))),l.a.createElement(A.a,{visible:p,title:"Add new plot",onCancel:function(){E(!p)},footer:null,width:"40%",centered:!0},l.a.createElement(re,null)),l.a.createElement(A.a,{visible:o,title:"Add new agent",onCancel:function(){return y()},footer:null,width:"40%",centered:!0},l.a.createElement(ue,{doClose:function(){return y()}})),l.a.createElement(v.a,{justify:"left"},l.a.createElement(C.a,{span:"8"},l.a.createElement("div",{className:"box-content",style:{backgroundColor:"#7571c7"}},l.a.createElement(v.a,{justify:"left"},l.a.createElement(C.a,{span:"6"},l.a.createElement("div",{className:"letter-box"},l.a.createElement("span",{className:"letter"},"N"))),l.a.createElement(C.a,{span:"6"},l.a.createElement("span",{className:"count"},"198"),l.a.createElement("span",{className:"count-desc"}," New plots added"))),l.a.createElement("div",{className:"oval"}),l.a.createElement("div",{className:"small-oval"}),l.a.createElement("button",{className:"box-button",onClick:function(){return e.push("/admin/add-plot-area")}}," ","+ Add Plot"))),l.a.createElement(C.a,{span:"8"},l.a.createElement("div",{className:"box-content",style:{backgroundColor:"#5dca88"}},l.a.createElement(v.a,null,l.a.createElement(C.a,{span:"6"},l.a.createElement("div",{className:"letter-box"},l.a.createElement("span",{className:"letter"},"A"))),l.a.createElement(C.a,{span:"6"},l.a.createElement("span",{className:"count"},"256"),l.a.createElement("span",{className:"count-desc"},"Available Plots"))),l.a.createElement("div",{className:"oval"}),l.a.createElement("div",{className:"small-oval"}))),l.a.createElement(C.a,{span:"8"},l.a.createElement("div",{className:"box-content",style:{backgroundColor:"#ff707c"}},l.a.createElement(v.a,null,l.a.createElement(C.a,{span:"6"},l.a.createElement("div",{className:"letter-box"},l.a.createElement("span",{className:"letter"},"B"))),l.a.createElement(C.a,{span:"6"},l.a.createElement("span",{className:"count"},"198"),l.a.createElement("span",{className:"count-desc"},"Booked Plots"))),l.a.createElement("div",{className:"oval"}),l.a.createElement("div",{className:"small-oval"})))),l.a.createElement("div",{className:"row-gap"}),l.a.createElement(v.a,null,l.a.createElement(C.a,{span:"12"},l.a.createElement("div",{className:"admin-page-column-left"},l.a.createElement(S.a,{loading:g,dataSource:t,columns:O}))),l.a.createElement(C.a,{span:"12"},l.a.createElement("div",{className:"admin-page-column-right"},l.a.createElement(ie.a,{data:{labels:["January","February","March","April","May","June","July"],datasets:[{backgroundColor:"#7e31ed",label:"performance",barThickness:20,borderWidth:2,data:[65,59,80,81,56,100,90]}]},options:{title:{display:!0,text:"Overall Performance",fontSize:20},legend:{display:!0,position:"right"}}})))))))))},pe=(t(177),t(28)),Ee=(t(231),t(124)),fe=(t(118),t(55)),be=(t(655),function(e){return l.a.createElement("div",e,l.a.createElement(fe.a,{style:{backgroundImage:"linear-gradient(100deg, "+e.gradient[0]+" -85%, "+e.gradient[1]+" 115%)"},className:"category-tile"},l.a.createElement(v.a,null,l.a.createElement(C.a,{span:"12"},l.a.createElement("span",{className:"title"},e.title)),l.a.createElement(C.a,{span:"12",style:{textAlign:"right"}},l.a.createElement("span",{className:"desc"},e.count," records")))))}),ge=t(768),he=(t(660),function(e){var a=e.lead;return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(fe.a,Object.assign({gutter:6,bordered:!1,className:"r-card-box"},e),l.a.createElement(v.a,{gutter:6},l.a.createElement(C.a,null,l.a.createElement(Ee.a,{style:{color:"#e13f56",backgroundColor:"#f9f3ef",fontFamily:"Lato"}},a.leadCustomer.userFname.slice(0,2))),l.a.createElement(C.a,null,l.a.createElement(v.a,null,l.a.createElement("span",{className:"r-user-name"},a.leadCustomer.userFname||"")),l.a.createElement(v.a,null,l.a.createElement("span",{className:"r-user-status"},a.leadCustomer.userEmailid))),l.a.createElement(C.a,{justify:"space-between"},l.a.createElement(F.a,{type:"link",className:"badge-label badge-label-success"},a.leadOutcome?a.leadOutcome:"no status"))),l.a.createElement(v.a,{gutter:[6,6]},l.a.createElement(C.a,{span:"12"},l.a.createElement(W.a,{className:"r-by-code"},a.leadCustomer.userCity||"-")),l.a.createElement(C.a,{span:"9"},l.a.createElement(W.a,{className:"r-by-name"},a.leadAgentMobile)),l.a.createElement(C.a,{span:"3"},l.a.createElement(Ee.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",style:{float:"right"}}))),l.a.createElement(v.a,{gutter:[6,6]},l.a.createElement(C.a,{span:"12"},l.a.createElement(W.a,{className:"r-source"},a.leadSource||"-")),l.a.createElement(C.a,{span:"3"},l.a.createElement(ge.a,{twoToneColor:"#bababa",style:{float:"right"}})),l.a.createElement(C.a,{span:"9"},l.a.createElement(W.a,{className:"r-date no-over-due"},"0 days overdue")))))}),ye=t(769),Oe=function(e){return l.a.createElement(v.a,{justify:"center",style:{marginTop:"1rem"}},l.a.createElement(F.a,{shape:"circle",icon:l.a.createElement(ye.a,null),onClick:e.onLoadMore(),loading:e.loading}))},Se=(t(661),t(662),t(162)),ve=(t(664),function(e){return l.a.createElement(j.a.Content,{style:{backgroundColor:"#fbfbfb",padding:"1rem"}},l.a.createElement("h6",{className:"t-header-title"},"Lead Timeline"),l.a.createElement(Se.a,{mode:"left",style:{paddingTop:"0.5rem"}},l.a.createElement(Se.a.Item,{color:"green"},l.a.createElement(W.a,{className:"t-title"},"Lead Open"),l.a.createElement(W.a,{className:"t-sub-title"},"20 February 2020"),l.a.createElement("div",{className:"t-desc-area"},l.a.createElement(W.a,{className:"t-line"},"Cold call"),l.a.createElement(W.a,{className:"t-line"},"Intrested to buy. Request for site visit"))),l.a.createElement(Se.a.Item,{color:"green"},l.a.createElement(W.a,{className:"t-title"},"Lead Open"),l.a.createElement(W.a,{className:"t-sub-title"},"20 February 2020"),l.a.createElement("div",{className:"t-desc-area"},l.a.createElement(W.a,{className:"t-line"},"Cold call"),l.a.createElement(W.a,{className:"t-line"},"Intrested to buy. Request for site visit"))),l.a.createElement(Se.a.Item,{color:"gray"},l.a.createElement(W.a,{className:"t-title"},"Lead Open"),l.a.createElement(W.a,{className:"t-sub-title"},"20 February 2020"),l.a.createElement("div",{className:"t-desc-area"},l.a.createElement(W.a,{className:"t-line"},"Cold call"),l.a.createElement(W.a,{className:"t-line"},"Next scheduled for call on 25 February 2020")))))}),Ce=function(e){var a=e.lead;return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(pe.a,{size:"middle",layout:"vertical",column:{xxl:2,xl:2,lg:2,md:2,sm:2,xs:1}},l.a.createElement(pe.a.Item,{label:"Lead Name"},a.leadCustomer.userFname),l.a.createElement(pe.a.Item,{label:"Company"},a.leadCustomer.userCompany),l.a.createElement(pe.a.Item,{label:"Email"},a.leadCustomer.userEmailid),l.a.createElement(pe.a.Item,{label:"Industry Type"},"~"),l.a.createElement(pe.a.Item,{label:"Contact Number"},a.leadCustomer.userMobile),l.a.createElement(pe.a.Item,{label:"Leaf source"},a.leadSource),l.a.createElement(pe.a.Item,{label:"Alternative Contact number"},a.leadCustomer.userMobileAlt),l.a.createElement(pe.a.Item,{label:"Lead contact"},a.leadAgentMobile),l.a.createElement(pe.a.Item,{label:"Address"},a.leadCustomer.userAddress),l.a.createElement(pe.a.Item,{label:"Intrested  area"},"~"),l.a.createElement(pe.a.Item,{label:"Next schedule date"},new Date(a.nextScheduleDatetime).toISOString().split("T")[0]),l.a.createElement(pe.a.Item,{label:"Best time to call"},a.leadCustomer.preferredCallStart+" - "+a.leadCustomer.preferredCallEnd)))},Ae=function(e){var a=Object(n.useState)(!1),t=Object(I.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(!0),o=Object(I.a)(s,2),u=(o[0],o[1]),i=Object(n.useState)(null),m=Object(I.a)(i,2),d=m[0],p=m[1],E=Object(n.useState)(null),f=Object(I.a)(E,2),g=f[0],h=f[1];var O=function(e){h(e),console.log(e),c(!0)};var S=function(){b.get("http://realkeyip.in:8083/api/leads/getAllLeads").then((function(e){!function(e){var a=e.filter((function(e){return 1==e.leadStatus})),t=e.filter((function(e){return 2==e.leadStatus})),n=e.filter((function(e){return 3==e.leadStatus})),l=e.filter((function(e){return 4==e.leadStatus}));p({created:a,prospecting:t,closer:n,converted:l}),console.log(d)}(e.data)})).catch((function(e){console.log(e),y.a.error("Loading Failed!")}))};return Object(n.useEffect)((function(){S()}),[]),l.a.createElement($,null,l.a.createElement(v.a,{gutter:[24,16]},l.a.createElement(C.a,{span:"6",sm:6,xs:24},l.a.createElement(be,{title:"Created",count:d&&d.created&&d.created.length||0,gradient:["#c185fa","#6a3ec3"],onClick:function(){u(!0)}}),d&&d.created&&d.created.map((function(e,a){return l.a.createElement(he,{lead:e,key:a,onClick:function(){return O(e)}})})),l.a.createElement(Oe,{onLoadMore:function(){}})),l.a.createElement(C.a,{span:"6",sm:6,xs:24},l.a.createElement(be,{title:"Prospecting",count:d&&d.prospecting&&d.prospecting.length||0,gradient:["#efd67c","#f76b1c"]}),d&&d.prospecting&&d.prospecting.map((function(e,a){return l.a.createElement(he,{lead:e,key:a,onClick:function(){return O(e)}})})),l.a.createElement(Oe,{onLoadMore:function(){}})),l.a.createElement(C.a,{span:"6",sm:6,xs:24},l.a.createElement(be,{title:"Closure",count:d&&d.closer&&d.closer.length||0,gradient:["#b9e270","#60904d"]}),d&&d.closer&&d.closer.map((function(e,a){return l.a.createElement(he,{lead:e,key:a,onClick:function(){return O(e)}})})),l.a.createElement(Oe,{onLoadMore:function(){}})),l.a.createElement(C.a,{span:"6",sm:6,xs:24},l.a.createElement(be,{title:"Converted",count:d&&d.converted&&d.converted.length||0,gradient:["#ff5878","#ff5878"]}),d&&d.converted&&d.converted.map((function(e,a){return l.a.createElement(he,{lead:e,key:a,onClick:function(){return O(e)}})})),l.a.createElement(Oe,{onLoadMore:function(){}}))),l.a.createElement(A.a,{visible:r,title:"Leads\u2019s detailed report",onCancel:function(e){c(!1)},footer:null,width:"80%",centered:!0},l.a.createElement(v.a,null,l.a.createElement(C.a,{span:1},l.a.createElement(pe.a,null,l.a.createElement(pe.a.Item,{label:""},l.a.createElement(Ee.a,{style:{color:"#e13f56",backgroundColor:"#f9f3ef",fontFamily:"Lato"}},g?g.leadCustomer.userFname.slice(0,2):"Is")))),l.a.createElement(C.a,{span:14},l.a.createElement(Ce,{lead:g})),l.a.createElement(C.a,{span:9,style:{backgroundColor:"#fbfbfb"}},l.a.createElement(ve,null)))))},Ie=t(757),je=t(770),Ne=t(756),ke=t(771),Le={labelCol:{span:24},wrapperCol:{span:24}},we={wrapperCol:{offset:8,span:16}},Fe=function(e){var a=Object(n.useState)({lat:"13.079436475227778",lng:"80.28259277343751"}),t=Object(I.a)(a,2),r=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(I.a)(o,2),m=i[0],d=(i[1],Z.a.useForm()),p=Object(I.a)(d,1)[0],f=Object(s.f)(),g=Object(n.useState)({}),h=Object(I.a)(g,2),O=h[0],S=h[1],v=Object(u.g)((function(e){return e.assets.getAssetGroups})),C=Object(u.g)((function(e){return e.assets.addNewGroup})),N=Object(u.h)((function(e){return e.assets.assetGroups}));Object(n.useEffect)((function(){v((function(){c({lat:N[0].assetGroupLat,lng:N[0].assetGroupLong})}))}),[]);var k=Object(n.useState)(!1),L=Object(I.a)(k,2),w=L[0],x=L[1],T=Object(n.useState)([]),P=Object(I.a)(T,2),_=(P[0],P[1],function(){S({}),x(!1)});return l.a.createElement(j.a.Content,null,l.a.createElement(A.a,{title:"Add Area",centered:!0,okText:"Save",visible:w,footer:null,onCancel:function(){return _()}},l.a.createElement(Z.a,Object.assign({},Le,{layout:"vertical",name:"basic",form:p,initialValues:{asset:{assetGroupLat:O.lat,assetGroupLong:O.lng}},onFinish:function(e){console.log(e);var a=e.asset;a.assetGroupPlan="TEST",a.assetGroupGlink="http://google.com",a.assetGroupTypeId=1,function(e){b.post(E.URL.ADD_NEW_GROUP,e).then((function(e){console.log(e.data),C(e.data),p.resetFields(),x(!1),y.a.success("Area added!")})).catch((function(e){console.log(e),y.a.error("Something Failed"),x(!1)}))}(a)},onFinishFailed:function(e){console.log("Failed:",e),y.a.warning("Please fill mandatory fields")},autoComplete:"false"}),l.a.createElement(Z.a.Item,{colon:!1,label:"Area / Project Name",name:["asset","assetGroupName"],rules:[{required:!0,message:"Please enter the area name"}]},l.a.createElement(ee.a,{placeholder:"Area Name"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Area Location",name:["asset","assetGroupLocation"],rules:[{required:!0,message:"Please enter the area location"}]},l.a.createElement(ee.a,{placeholder:"Area Location"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Area Latitude",name:["asset","assetGroupLat"],rules:[{required:!0,message:"Please enter the area latitude"}]},l.a.createElement(ee.a,{disabled:!0,placeholder:"Area Latitude"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Area Longitude",name:["asset","assetGroupLong"],rules:[{required:!0,message:"Please enter the area longitude"}]},l.a.createElement(ee.a,{disabled:!0,placeholder:"Area Longitude"})),l.a.createElement(Z.a.Item,we,l.a.createElement(F.a,{type:"primary",htmlType:"submit",loading:m},"Save"),l.a.createElement(F.a,{disabled:m,htmlType:"button",onClick:function(){_()},style:{margin:"0 8px"}},"Cancel")))),l.a.createElement(Ie.a,{center:r,zoom:9,style:{width:"100%",height:"87vh"},onclick:function(e){console.log("clicked Location",e.latlng),S(e.latlng),p.setFieldsValue({asset:{assetGroupLat:e.latlng.lat,assetGroupLong:e.latlng.lng}}),x(!0)},animate:!0},l.a.createElement(je.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png"}),N&&N.map((function(e,a){return l.a.createElement(Ne.a,{key:a,onClick:function(){return function(e,a){f.push({pathname:"/admin/property",groupDetails:e})}(e)},position:[e.assetGroupLat,e.assetGroupLong],onMouseOver:function(e){e.target.openTooltip()}},l.a.createElement(ke.a,null,e.assetGroupName))}))))},xe=function(e){return l.a.createElement($,null,l.a.createElement(Fe,null))},Te=(t(311),t(197)),Pe=t(81),_e=t(772),De=(t(666),function(e){var a=Object(n.useState)(!1),t=Object(I.a)(a,2),r=t[0],c=t[1],o=Object(s.f)(),i=Object(u.g)((function(e){return e.leads.getTodayLeads})),m=Object(u.h)((function(e){return e.leads.today_leads})),d=[{title:"Name",width:200,render:function(e){return l.a.createElement("span",{style:{color:"#000000a6",fontWeight:"bold"}},e.leadCustomer.userFname," ",e.leadCustomer.userSname?e.leadCustomer.userSname:"")}},{title:"Contact Number",width:150,render:function(e){return e.leadCustomer.userMobile}},{title:"Email",width:200,render:function(e){return e.leadCustomer.userEmailid?e.leadCustomer.userEmailid:"-"}},{title:"Status",width:150,render:function(e){return l.a.createElement("span",{style:{color:"#4c46a7",fontWeight:"bold"}},E.getLeadStatusById(e.leadStatus))}},{title:"Next Schedule",width:150,render:function(e){return l.a.createElement("span",null,new Date(e.nextScheduleDatetime).toISOString().split("T")[0])}},{title:"Source",width:150,render:function(e){return e.leadSource?e.leadSource:"-"}},{title:"Score Summary",render:function(e){return l.a.createElement("div",{className:"icons-list"},e.leadOutcome.slice(0,3).map((function(e,a){var t;return t="Positive"==e.outCome?"#5ccb88":"Negative"==e.outCome?"#f51044":"#faad14",l.a.createElement("span",{key:a,style:{paddingRight:"1rem"}},l.a.createElement(_e.a,{twoToneColor:t}))})))}},{title:"Action",dataIndex:"",render:function(e){return l.a.createElement("span",null,l.a.createElement("a",{onClick:function(){o.push({pathname:"agent/overall",leadDetail:e})}},"Add Audit"))}}].map((function(e,a){return Object(Pe.a)({},e,{ellipsis:!0,className:"t-head"})})),p={url:E.URL.GET_TODAY_LEADS+"&mobile="+e.currentUser.userMobile,callback:function(){c(!1)}};return Object(n.useEffect)((function(){c(!0),i(p)}),[]),l.a.createElement(j.a.Content,null,l.a.createElement(S.a,{columns:d,size:"middle",loading:r,dataSource:m,pagination:{pageSize:10},scroll:{y:500}}))}),Ge=(t(667),t(136)),Re=t.n(Ge),Me=t(668);Re.a.extend(Me);var Ue=function(e){return l.a.createElement("div",{className:"agent-message-card",style:{backgroundColor:"white",minHeight:"145px"}},l.a.createElement(fe.a,{className:" ag-bg-img"},l.a.createElement(v.a,null,l.a.createElement(C.a,{span:6}),l.a.createElement(C.a,{span:18},l.a.createElement(v.a,null,l.a.createElement(W.a,{className:"ag-message-title"},"Hello Agent!")),l.a.createElement(v.a,null,l.a.createElement(W.a,{className:"ag-message-text"},e.data.message)),l.a.createElement(v.a,null,l.a.createElement(W.a,{className:"ag-message-time"},Re()(e.data.createdAt).fromNow()))))))},Be=(t(669),function(e){var a=Object(s.f)();return l.a.createElement(fe.a,{className:"overall-tile",style:{backgroundColor:e.color}},l.a.createElement(v.a,null,l.a.createElement(C.a,{span:"4"},l.a.createElement("div",{className:"o-initial-box"},l.a.createElement(W.a,{className:"o-initial-text"},e.title[0]))),l.a.createElement(C.a,{span:"9",offset:2},l.a.createElement(v.a,null,l.a.createElement(W.a,{className:"o-count"},e.count)),l.a.createElement(v.a,null,l.a.createElement(W.a,{className:"o-title"},e.title))),e.showbutton&&l.a.createElement(C.a,{span:"8"},l.a.createElement("div",{className:"o-center"},l.a.createElement(F.a,{className:"o-add-btn",onClick:function(){a.push("agent/add-lead")}},"+ Add Lead")))))}),qe=function(e){var a=Object(u.h)((function(e){return e.auth.user})),t=Object(u.h)((function(e){return e.broadCastMeassages.messages})),r=Object(u.g)((function(e){return e.leads.getLeadStatusCount})),c=Object(u.h)((function(e){return e.leads.statusCount}));return Object(n.useEffect)((function(){r(E.URL.GET_LEAD_STATUS_COUNT+"?mobile="+a.userMobile)}),[]),l.a.createElement($,null,l.a.createElement(Te.a,{autoplay:!0,dotPosition:"bottom"},t.map((function(e,a){return l.a.createElement(Ue,{key:a,data:e})}))),l.a.createElement(v.a,{gutter:[12,12]},l.a.createElement(C.a,null,l.a.createElement(Be,{color:"#7571c7",title:"New Leads ",count:c.created,showbutton:!0})),l.a.createElement(C.a,null,l.a.createElement(Be,{color:"#4cc311",title:"Prospecting",count:c.prospecting,showbutton:!1})),l.a.createElement(C.a,null,l.a.createElement(Be,{color:"#1890ff",title:"Completed Leads",count:c.completed,showbutton:!1})),l.a.createElement(C.a,null,l.a.createElement(Be,{color:"#ff707c",title:"Closure Leads",count:c.closure,showbutton:!1}))),l.a.createElement(v.a,null,l.a.createElement("h5",{style:{fontFamily:"Lato",fontSize:"14px",fontWeight:"bold",color:"#150e4f"}},"Today Lead List"),l.a.createElement(De,{currentUser:a})))},Ve=(t(322),t(198)),ze=(t(233),j.a.Header),We=function(e){return l.a.createElement("div",null,l.a.createElement(ze,{style:{padding:"2rem"}}),l.a.createElement(Ve.a,{className:"site-page-subheader",ghost:!0,onBack:function(){return window.history.back()},title:"Back",extra:[l.a.createElement(F.a,{className:"book-btn",key:"2"},"Book"),l.a.createElement(F.a,{key:"1"},". . .")]}))},He=(t(686),t(356)),Ye=(t(688),He.a.Text),Ke=function(e){var a=e.lead,t=e.source;return l.a.createElement(fe.a,{className:"lead-card"},l.a.createElement(pe.a,{colon:!1,size:"middle",layout:"vertical",column:{xxl:2,xl:2,lg:2,md:2,sm:2,xs:1}},l.a.createElement(pe.a.Item,{label:"Lead Name"},l.a.createElement(Ye,null,a.userFname+" "+a.userSname)),l.a.createElement(pe.a.Item,{label:"Email"},a.userEmailid),l.a.createElement(pe.a.Item,{label:"Contact Number"},a.userMobile),l.a.createElement(pe.a.Item,{label:"Alternative Contact number"},a.userMobileAlt),l.a.createElement(pe.a.Item,{label:"Address"},a.userAddress),l.a.createElement(pe.a.Item,{label:"Lead source"},t)))},Je=(t(280),t(95)),$e=(t(323),t(160)),Xe=(t(312),t(142)),Qe=(t(692),ae.a.Option),Ze=Xe.a.Panel,ea=function(e){var a=Z.a.useForm(),t=Object(I.a)(a,1)[0],r=Object(s.f)(),c=Object(n.useState)(!1),o=Object(I.a)(c,2),u=o[0],i=o[1];return l.a.createElement(v.a,{gutter:[16,16]},l.a.createElement(C.a,{span:24},l.a.createElement(Z.a,Object.assign({layout:"vertical",name:"form_in_modal"},{labelCol:{span:24},wrapperCol:{span:24}},{form:t,initialValues:{leadStatus:e.status+"",leadAsset:e.leadAsset},onFinish:function(a){for(var n=[],l=0;l<a.leadAsset.length;l++){var c={};c.leadItemAssetId=a.leadAsset[l],n.push(c)}var s=Object(Pe.a)({},a);s.leadAuditCreatedUser={userMobile:e.currentUser.userMobile},s.leadAuditScheduleDatetime=s.leadAuditScheduleDatetime?s.leadAuditScheduleDatetime.$d:void 0,s.leadAuditLeadId=e.leadId,s.leadItem=n,s.leadAuditCreatedDatetime=new Date,i(!0),b.post(E.URL.ADD_NEW_AUDIT,s).then((function(e){console.log(e.data),y.a.success("Audit added!"),i(!1),t.resetFields(),r.replace("/agent")})).catch((function(){y.a.error("Audit Failed!"),i(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)}}),l.a.createElement(Xe.a,{className:"call-status-card",defaultActiveKey:["1"],onChange:function(){},expandIconPosition:"right",expandIcon:function(){return l.a.createElement(F.a,{type:"default"},"-")}},l.a.createElement(Ze,{header:"Call Status",key:"1"},l.a.createElement(v.a,{gutter:[8,0]},l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{colon:!1,label:"Call type",name:["leadAuditType","auditTypeId"],rules:[{required:!0,message:'Please enter the Call type"'}]},l.a.createElement(ae.a,{placeholder:"Select Call Type"},l.a.createElement(Qe,{value:"1"},"Inbound"),l.a.createElement(Qe,{value:"2"},"Outbound")))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{colon:!1,label:"Lead Status",name:"leadStatus",defaultActiveKey:[e.status]},l.a.createElement(ae.a,{placeholder:"Select Lead Status"},l.a.createElement(Qe,{key:1,value:"1"},"Created"),l.a.createElement(Qe,{key:2,value:"2"},"Prospecting"),l.a.createElement(Qe,{key:3,value:"3"},"Closure"),l.a.createElement(Qe,{key:4,value:"4"},"Converted"),l.a.createElement(Qe,{key:5,value:"5"},"Completed")))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{colon:!1,label:"Call purpose",name:["leadAuditStatus","auditStatusId"],rules:[{required:!0,message:"Please enter the call purpose"}]},l.a.createElement(ae.a,{placeholder:"Call Purpose"},E.auditStatus.map((function(e,a){return l.a.createElement(Qe,{key:a,value:e.auditStatusId},e.auditStatus)})))))),l.a.createElement(v.a,{gutter:[8,0]},l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{label:"Schedule Date",name:"leadAuditScheduleDatetime",rules:[{required:!0,message:"Please enter Schedule Date"}]},l.a.createElement($e.a,{format:"YYYY-MM-DD"}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{label:"Interested In",name:"leadAsset"},l.a.createElement(ae.a,{mode:"multiple",placeholder:"Intrested Property",defaultValue:e.leadAsset,loading:u}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{label:"About the call",name:["leadAuditOutcome","auditOutcomeId"],rules:[{required:!0,message:"Please give review"}]},l.a.createElement(Je.a.Group,{defaultValue:"3"},l.a.createElement(Je.a.Button,{value:"1"},"Positive"),l.a.createElement(Je.a.Button,{value:"2"},"Negative"),l.a.createElement(Je.a.Button,{value:"3"},"Neutral"))))),l.a.createElement(w.a,null),l.a.createElement(v.a,{className:"panel-footer-row"},l.a.createElement("div",{className:"btn-wrapper"},l.a.createElement(Z.a.Item,null,l.a.createElement(F.a,{title:"Save",htmlType:"submit",type:"primary",className:"b-primary",loading:u},"Save"),l.a.createElement(F.a,{title:"Cancel",htmlType:"reset",className:"b-secondary",disabled:u,onClick:function(){return r.goBack()}},"Cancel")))))))))},aa=function(e){var a=Object(s.f)(),t=a.location.leadDetail,r=Object(u.h)((function(e){return e.auth.user}));return Object(n.useEffect)((function(){void 0===t&&a.goBack()}),[]),l.a.createElement($,{drawer:!1},l.a.createElement(We,null),l.a.createElement(j.a.Content,{id:"lead-section",style:{padding:"1rem"}},l.a.createElement(v.a,{gutter:[16,16]},t&&t.leadStatus&&l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{span:16},l.a.createElement(ea,{leadId:t.leadId,status:t.leadStatus,leadAsset:t.leadAsset,currentUser:r})),l.a.createElement(C.a,{span:8},l.a.createElement(fe.a,{className:"lead-card"},l.a.createElement(pe.a,{colon:!1,size:"middle",layout:"vertical",column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1}},l.a.createElement(pe.a.Item,{label:"Lead Status"},E.getLeadStatusById(t.leadStatus)),l.a.createElement(pe.a.Item,{label:"Best time to call"},t.leadCustomer.preferredCallStart+"-"+t.leadCustomer.preferredCallEnd))),l.a.createElement("div",{style:{paddingTop:"1rem"}},l.a.createElement(Ke,{lead:t.leadCustomer,source:t.leadSource})))))),l.a.createElement(j.a.Content,null))},ta=(t(717),t(354)),na=t(773),la=Xe.a.Panel,ra=ae.a.Option,ca=ta.a.RangePicker,sa=j.a.Content,oa=j.a.Header,ua={labelCol:{span:24},wrapperCol:{span:24}},ia=function(e){var a=new Date,t=new Date;t.setDate(a.getDate()+1);var r=Object(s.f)(),c=Z.a.useForm(),o=Object(I.a)(c,1)[0],i=Object(n.useState)(!1),m=Object(I.a)(i,2),d=m[0],p=m[1],f=Object(u.g)((function(e){return e.leads.addLead})),g=Object(u.h)((function(e){return e.auth.user})),h=Object(n.useState)(null),O=Object(I.a)(h,2),S=O[0],A=O[1],j=Object(n.useState)(null),N=Object(I.a)(j,2),k=N[0],L=N[1];return Object(n.useEffect)((function(){p(!0),b.get(E.URL.GET_ASSET_GROUPS).then((function(e){A(e.data),p(!1)})).catch((function(e){console.error(e),p(!1)}))}),[]),l.a.createElement("div",null,l.a.createElement($,{drawer:!1},l.a.createElement(sa,{style:{backgroundColor:"#f0f1f4"}},l.a.createElement(oa,null),l.a.createElement(w.a,{style:{width:"100%",margin:0}}),l.a.createElement(oa,null,l.a.createElement(v.a,null,l.a.createElement(C.a,{span:"3"},l.a.createElement("span",{className:"back",onClick:function(){r.goBack()}},l.a.createElement(na.a,null)," \xa0Back")),l.a.createElement(C.a,{span:"6"}),l.a.createElement(C.a,{span:"7"}),l.a.createElement(C.a,{span:"6"}),l.a.createElement(C.a,{span:"2"}))),l.a.createElement(w.a,{style:{width:"100%",margin:0}}),l.a.createElement("div",{style:{padding:"1rem"}},l.a.createElement("h5",{style:{fontFamily:"Lato",fontSize:"16px",fontWeight:"bold",color:"#150e4f"}},"Create New Lead"),l.a.createElement(v.a,{gutter:[16,16]},l.a.createElement(C.a,{span:24},l.a.createElement(Z.a,Object.assign({},ua,{layout:"vertical",name:"basic",form:o,initialValues:{},onFinish:function(e){var a=e;a.lead.userOccupation="-",a.lead.userPassword=a.lead.userMobile,a.lead.userMobileAlt=a.lead.userMobile,a.lead.preferredCallStart=e.best_call_time?e.best_call_time[0].$d.toTimeString().split(" ")[0]:null,a.lead.preferredCallEnd=e.best_call_time?e.best_call_time[1].$d.toTimeString().split(" ")[0]:null;for(var n=[],l=0;l<a.leadItemAssetId.length;l++){var r={};r.leadItemAssetId=a.leadItemAssetId[l],n.push(r)}var c={leadAgentMobile:g.userMobile,leadSource:a.leadSource?a.leadSource:"-",leadCustomer:a.lead,leadStatus:1,leadInterest:a.leadInterest,leadCreateDate:new Date,nextScheduleDatetime:t,leadItem:n};console.log("Success:",c),p(!0),b.post(E.URL.ADD_NEW_LEAD,c).then((function(e){f(e.data),y.a.success("Lead Added!"),p(!1),o.resetFields()})).catch((function(e){y.a.error("Failed!"),p(!1),console.error(e)}))},onFinishFailed:function(e){console.log("Failed:",e),y.a.warning("Please fill mandatory fields")},autoComplete:"false"}),l.a.createElement(Xe.a,{defaultActiveKey:["1","2","3"],onChange:function(e){console.log(e)}},l.a.createElement(la,{header:"Contact Information",key:"1"},l.a.createElement(v.a,{gutter:[8,0]},l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{colon:!1,label:"Lead First Name",name:["lead","userFname"],rules:[{required:!0,message:"Please enter the first name"}]},l.a.createElement(ee.a,{placeholder:"First Name"}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{colon:!1,label:"Lead Last Name",name:["lead","userSname"]},l.a.createElement(ee.a,{placeholder:"Last Name"}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{colon:!1,label:"Email Id",name:["lead","userEmailid"],rules:[{type:"email",message:"Please enter valid email id"}]},l.a.createElement(ee.a,{placeholder:"Email Id"}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{colon:!1,label:"Contact Number",name:["lead","userMobile"],rules:[{required:!0,message:"Please enter the contact number"},{pattern:/^\d{10}$/,message:"Enter a valid contact number"}]},l.a.createElement(ee.a,{placeholder:"Mobile"}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{colon:!1,label:"Alternate Contact Number",name:["lead","userMobileAlt"],rules:[{pattern:/^\d{10}$/,message:"Enter a valid contact number"}]},l.a.createElement(ee.a,{placeholder:"Alternative Mobile"}))))),l.a.createElement(la,{header:"Residential Information",key:"2"},l.a.createElement(v.a,{gutter:[8,0]},l.a.createElement(C.a,{span:"16"},l.a.createElement(Z.a.Item,{label:"Address",colon:!1,name:["lead","userAddress"]},l.a.createElement(ee.a.TextArea,{placeholder:"Address"}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{label:"City",colon:!1,name:["lead","userCity"]},l.a.createElement(ee.a,{placeholder:"City Name"})))),l.a.createElement(v.a,{gutter:[8,0]},l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{label:"State",colon:!1,name:["lead","userState"]},l.a.createElement(ee.a,{placeholder:"State"}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{label:"Country",colon:!1,name:["lead","userCountry"]},l.a.createElement(ee.a,{placeholder:"Country"}))))),l.a.createElement(la,{header:"Business Information",key:"3"},l.a.createElement(v.a,{gutter:[8,0]},l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{colon:!1,label:"Best Time to call",name:"best_call_time"},l.a.createElement(ca,{format:"HH:mm a",minuteStep:30,use12Hours:!0}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{label:"Lead Source",colon:!1,name:"leadSource"},l.a.createElement(ee.a,{placeholder:"Lead Source"}))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{label:"Interested in",colon:!1,name:"leadInterest"},l.a.createElement(ee.a,{placeholder:"Flat 1, Flat 2..,"}))),l.a.createElement(C.a,null,l.a.createElement(Z.a.Item,{label:"Intrested Area",colon:!1,name:"leadAssetArea"},l.a.createElement(ae.a,{placeholder:"Intrested Area",loading:d,onChange:function(e){p(!0),b.get(E.URL.GET_ASSET_BY_GROUP_ID+"?groupId="+e).then((function(e){L(e.data),p(!1)})).catch((function(e){console.error(e),p(!1)}))}},S&&S.map((function(e){return l.a.createElement(ra,{key:e.assetGroupId},e.assetGroupName)}))))),l.a.createElement(C.a,{span:"8"},l.a.createElement(Z.a.Item,{label:"Intrested Property",colon:!1,name:"leadItemAssetId"},l.a.createElement(ae.a,{mode:"multiple",placeholder:"Intrested Property",loading:d},k&&k.map((function(e){return l.a.createElement(ra,{key:e.assetId},e.assetNumber)})))))))),l.a.createElement(v.a,{gutter:[24,24],style:{paddingTop:"1rem",paddingBottom:"1rem"}},l.a.createElement(C.a,{span:"24"},l.a.createElement(F.a,{block:!0,type:"primary",htmlType:"submit",loading:d},"Save")))))),l.a.createElement("br",null)))))},ma=[{title:"Name",width:200,render:function(e){return l.a.createElement("span",{style:{color:"#000000a6",fontWeight:"bold"}},e.leadCustomer.userFname," ",e.leadCustomer.userSname?e.leadCustomer.userSname:"")}},{title:"Contact Number",width:150,render:function(e){return e.leadCustomer.userMobile}},{title:"Email",width:200,render:function(e){return e.leadCustomer.userEmailid?e.leadCustomer.userEmailid:"-"}},{title:"Status",width:150,render:function(e){return l.a.createElement("span",{style:{color:"#4c46a7",fontWeight:"bold"}},E.getLeadStatusById(e.leadStatus))}},{title:"Source",dataIndex:"leadSource",width:150},{title:"Occupation",width:150,render:function(e){return e.leadCustomer.userOccupation}},{title:"Address",width:150,render:function(e){return e.leadCustomer.userAddress?e.leadCustomer.userAddress:"-"}},{title:"City",width:150,render:function(e){return e.leadCustomer.userCity?e.leadCustomer.userCity:"-"}}].map((function(e,a){return Object(Pe.a)({},e,{ellipsis:!0,key:a,className:"t-head"})})),da=function(e){var a=Object(n.useState)(!1),t=Object(I.a)(a,2),r=t[0],c=t[1],s=Object(u.g)((function(e){return e.leads.getLeadsByAgent})),o=Object(u.h)((function(e){return e.leads.leadsByAgent})),i=Object(u.h)((function(e){return e.auth.user})),m={url:E.URL.GET_LEAD_BY_AGENT+"?mobile="+i.userMobile,callback:function(){c(!1)}};return Object(n.useEffect)((function(){console.log("::LIST LEADS Called::"),c(!0),s(m)}),[]),l.a.createElement("div",null,l.a.createElement(S.a,{columns:ma,size:"middle",loading:r,dataSource:o,pagination:{pageSize:8}}))},pa=function(e){return l.a.createElement($,null,l.a.createElement(v.a,{gutter:[8,8]},l.a.createElement("h5",{style:{fontFamily:"Lato",fontSize:"14px",fontWeight:"bold",color:"#150e4f"}},"All Leads"),l.a.createElement(da,null)))},Ea=t(774),fa=function(){var e=Object(s.f)(),a=Object(n.useState)(!1),t=Object(I.a)(a,2),r=t[0],c=t[1],o=Object(u.g)((function(e){return e.auth.setUser}));return l.a.createElement(j.a,{style:{minHeight:"100vh"}},l.a.createElement(fe.a,{headStyle:{textAlign:"center"},title:"Login",bordered:!1,style:{width:400},className:"login-card"},l.a.createElement(Z.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(a){console.log("Received values of form: ",a),c(!0),b.post(E.URL.LOGIN,a.user).then((function(a){c(!1),a.data?(o(a.data),a.data.userRole?"2"==a.data.userRole?e.replace("/agent"):"1"==a.data.userRole&&e.replace("/admin"):y.a.warn("User role not found")):y.a.error("Invalid user")})).catch((function(e){c(!1),console.log("LOGIN ERROR::",e)}))}},l.a.createElement(Z.a.Item,{name:["user","userMobile"],rules:[{required:!0,message:"Please enter the mobile number"},{pattern:/^\d{10}$/,message:"Enter a valid mobile number"}]},l.a.createElement(ee.a,{prefix:l.a.createElement(M.a,{className:"site-form-item-icon"}),placeholder:"Mobile Number"})),l.a.createElement(Z.a.Item,{name:["user","userPassword"],rules:[{required:!0,message:"Please input your Password!"}]},l.a.createElement(ee.a,{prefix:l.a.createElement(Ea.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),l.a.createElement(Z.a.Item,{style:{textAlign:"center"}},l.a.createElement("div",null,l.a.createElement(F.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:r},"Log in"),l.a.createElement(w.a,{type:"vertical"}),l.a.createElement("a",{href:""},"Register"))),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("span",null,"Or"),l.a.createElement("br",null),l.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")))))},ba=t(137),ga=function(e){var a=e.component,t=e.userRole,n=Object(ba.a)(e,["component","userRole"]),r=Object(u.h)((function(e){return e.auth.user})),c=Object(u.h)((function(e){return e.auth.isLoggedIn}));return l.a.createElement(s.b,Object.assign({},n,{render:function(e){return c&&t==r.userRole?l.a.createElement(a,e):l.a.createElement(s.a,{to:"/login"})}}))},ha=(t(168),t(107)),ya=function(e){var a=e.group,t=e.onFlatClick,r=Object(s.f)(),c=Object(n.useState)(!1),o=Object(I.a)(c,2),i=o[0],m=o[1],d=Object(u.g)((function(e){return e.assets.getAssetById})),p=Object(u.h)((function(e){return e.assets.assetDetails})),E={id:a?a.assetGroupId:r.replace("/login"),callback:function(){m(!1)}};return Object(n.useEffect)((function(){m(!0),d(E)}),[]),l.a.createElement("div",{style:{padding:"1rem"}},l.a.createElement("h5",{style:{fontFamily:"Lato",fontSize:"16px",fontWeight:"bold",color:"#150e4f"}},p?p.length:0," Flats in"," ",a.assetGroupName?a.assetGroupName:""),l.a.createElement(ha.a,{spinning:i},l.a.createElement(v.a,{justify:"start",gutter:[8,8]},p&&p.map((function(e,a){var n="tile ";return"1"==e.assetStatus.assetStatusId?n+="tile-available":"3"==e.assetStatus.assetStatusId?n+="tile-booked":n+="tile-disabled",l.a.createElement(C.a,{key:a,className:n,span:3,onClick:function(){t(e)}},e.assetNumber)})))))},Oa=(t(719),t(232),t(94)),Sa=Oa.a.TabPane,va=ae.a.Option,Ca={labelCol:{span:24},wrapperCol:{span:24}},Aa=function(e){var a=Object(n.useState)(!1),t=Object(I.a)(a,2),r=t[0],c=t[1],o=Z.a.useForm(),i=Object(I.a)(o,1)[0],m=Object(s.f)(),d=Object(n.useState)(1),p=Object(I.a)(d,2),f=p[0],g=p[1],h=Object(u.g)((function(e){return e.assets.addAsset}));return l.a.createElement(j.a.Content,null,l.a.createElement(v.a,{justify:"center",gutter:[0,0]},l.a.createElement(Z.a,Object.assign({},Ca,{name:"basic",form:i,initialValues:{assetStatus:{assetStatusId:1}},onFinish:function(a){console.log(a),a.assetGroupId=e.group?e.group.assetGroupId:m.replace("/login"),a.assestStatus={assetStatusId:f},c(!0),b.post(E.URL.ADD_ASSET,a).then((function(e){console.log(e.data),h(e.data),y.a.success("Added!"),i.resetFields(),c(!1)})).catch((function(e){console.log(e),c(!1),y.a.error("Failed to add")}))},onFinishFailed:function(e){console.log("Failed:",e),y.a.warning("Please fill mandatory fields")},autoComplete:"false"}),l.a.createElement(Z.a.Item,{colon:!1,label:"Flat Name/Number",name:"assetNumber",rules:[{required:!0,message:"Please enter the Flat name"}]},l.a.createElement(ee.a,{placeholder:"Flat name"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Property Size (sqft)",name:"assetDimen",rules:[{required:!0,message:"Please enter the size"}]},l.a.createElement(ee.a,{placeholder:"Property Size"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Property Value (sqft)",name:"assetValue",rules:[{required:!0,message:"Please enter the value"}]},l.a.createElement(ee.a,{placeholder:"Property value"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Value unit",name:"assetValueUnit",rules:[{required:!0,message:"Please enter the unit"}]},l.a.createElement(ae.a,{placeholder:"Select unit"},l.a.createElement(va,{value:"1"},"SqFt"),l.a.createElement(va,{value:"2"},"Flat"))),l.a.createElement(Z.a.Item,{label:"Booking Status",name:["assetStatus","assetStatusId"],rules:[{required:!0,message:"Please select status"}]},l.a.createElement(Oa.a,{defaultActiveKey:f+"",onChange:function(e){g(e)},style:{margin:0}},l.a.createElement(Sa,{tab:"Open",key:"1"}),l.a.createElement(Sa,{tab:"Blocked",key:"2"}),l.a.createElement(Sa,{tab:"Booked",key:"3"}))),l.a.createElement(Z.a.Item,{colon:!1,label:"Property Facing",name:"assetFacing"},l.a.createElement(ee.a,{placeholder:"Property facing"})),l.a.createElement(Z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit",loading:r},"Save"),l.a.createElement(F.a,{disabled:r,htmlType:"button",onClick:function(){i.resetFields()},style:{margin:"0 8px"}},"Cancel")))))},Ia={labelCol:{span:24},wrapperCol:{span:24}},ja=Oa.a.TabPane,Na=ae.a.Option,ka=function(e){var a=e.flat,t=e.status,r=e.onSuccess,c=Object(n.useState)(!1),s=Object(I.a)(c,2),o=s[0],i=s[1],m=Object(n.useState)(t),d=Object(I.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)("1"),h=Object(I.a)(g,2),O=h[0],S=h[1],C=Z.a.useForm(),A=Object(I.a)(C,1)[0],N=Object(u.g)((function(e){return e.assets.updateAsset}));Object(n.useEffect)((function(){f(t),S(a.assetValueUnit)}),[]);return l.a.createElement(j.a.Content,null,l.a.createElement(v.a,{justify:"center",gutter:[0,0]},l.a.createElement(Z.a,Object.assign({},Ia,{name:"basic",form:A,initialValues:{bookingStatus:p,assetNumber:a.assetNumber,assetDimen:a.assetDimen,assetValue:a.assetValue,assetValueUnit:O,assetFacing:a.assetFacing},onFinish:function(e){var t=Object(Pe.a)({},e);t.assetId=a.assetId,t.assetGroupId=a.assetGroupId,t.assetStatus={assetStatusId:e.bookingStatus},i(!0),b.post(E.URL.ADD_ASSET,t).then((function(e){N(e.data),y.a.success("Updated!"),r(),i(!1)})).catch((function(e){console.log(e),i(!1),y.a.error("Update Failed")}))},onFinishFailed:function(e){console.log("Failed:",e),y.a.warning("Please fill mandatory fields")},autoComplete:"false"}),l.a.createElement(Z.a.Item,{colon:!1,label:"Flat Name/Number",name:"assetNumber",rules:[{required:!0,message:"Please enter the Flat name"}]},l.a.createElement(ee.a,{placeholder:"Flat name"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Property Size (sqft)",name:"assetDimen",rules:[{required:!0,message:"Please enter the size"}]},l.a.createElement(ee.a,{placeholder:"Property Size"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Property Value",name:"assetValue",rules:[{required:!0,message:"Please enter the value"}]},l.a.createElement(ee.a,{placeholder:"Property value"})),l.a.createElement(Z.a.Item,{colon:!1,label:"Value unit",name:"assetValueUnit",rules:[{required:!0,message:"Please enter the unit"}]},l.a.createElement(ae.a,{defaultValue:O},l.a.createElement(Na,{value:"1"},"SqFt"),l.a.createElement(Na,{value:"2"},"Flat"))),l.a.createElement(Z.a.Item,{label:"Booking Status",name:"bookingStatus",rules:[{required:!0,message:"Please select status"}]},l.a.createElement(Oa.a,{defaultActiveKey:p+"",onChange:function(e){f(e)},style:{margin:0}},l.a.createElement(ja,{tab:"Open",key:"1"}),l.a.createElement(ja,{tab:"Blocked",key:"2"}),l.a.createElement(ja,{tab:"Booked",key:"3"}))),l.a.createElement(Z.a.Item,{colon:!1,label:"Property Facing",name:"assetFacing"},l.a.createElement(ee.a,{placeholder:"Property facing"})),l.a.createElement(Z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit",loading:o},"Update"),l.a.createElement(F.a,{disabled:o,htmlType:"button",onClick:function(){r()},style:{margin:"0 8px"}},"Cancel")))))},La=function(e){var a=l.a.useRef(null);return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.a,{onClick:function(e){a.current.click()}},"Upload Document"),l.a.createElement("input",{type:"file",ref:a,onChange:function(a){var t=a.target.files[0];e.handleFile(t)},style:{display:"none"}}))},wa=t(355),Fa=new(t.n(wa).a)({bucketName:"plot-crm",dirName:"media",region:"ap-south-1",accessKeyId:"AKIA26O2SOMH6ERMM445",secretAccessKey:"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"}),xa=j.a.Header,Ta=function(e){var a=e.group,t=Object(n.useState)(!1),r=Object(I.a)(t,2),c=(r[0],r[1]),s=Object(n.useState)([]),o=Object(I.a)(s,2),u=o[0],i=o[1],m=Object(n.useState)(!1),d=Object(I.a)(m,2),p=d[0],f=d[1];return l.a.createElement("div",null,l.a.createElement(xa,{style:{padding:"2rem"}}),l.a.createElement(Ve.a,{className:"site-page-subheader",ghost:!0,onBack:function(){return window.history.back()},title:"Back",extra:[l.a.createElement(F.a,{key:"1",onClick:function(){b.get(E.URL.LIST_GROUP_IMAGE+a.assetGroupId).then((function(e){c(!1),console.log(e),i(e.data),f(!0)})).catch((function(e){c(!1),console.error(e),y.a.error("Upload Error")}))}},"Documents")]}),l.a.createElement(A.a,{closable:!0,onCancel:function(){f(!1)},width:800,height:800,title:"Upload Images",visible:p,footer:null},l.a.createElement(Te.a,{autoplay:!0},u.map((function(e,a){return l.a.createElement("input",{key:a,height:450,type:"image",alt:"document",src:e.docurl})}))),l.a.createElement(w.a,{dashed:!0},"Or"),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(La,{handleFile:function(e){if(console.log("In file uplo"),!function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||y.a.error("You can only upload JPG/PNG file!");var t=e.size/1024/1024<2;return t||y.a.error("Image must smaller than 2MB!"),a&&t}(e))return!1;var t=(new Date).getTime();c(!0),Fa.uploadFile(e,t).then((function(e){console.log(e);var t={assetGroupId:a.assetGroupId,docTypeId:2,docurl:e.location};b.post(E.URL.ADD_IMAGE_TO_ASSET_GROUP,t).then((function(e){c(!1),y.a.success("Uploaded!"),u.push(e.data),f(!1)})).catch((function(e){c(!1),console.error(e),y.a.error("Upload Error")})),f(!1)})).catch((function(e){console.log(e),y.a.error("Upload failed!")}))}}))))},Pa=function(e){var a=Object(s.f)(),t=a.location.groupDetails,r=Object(n.useState)(null),c=Object(I.a)(r,2),o=c[0],u=c[1];return Object(n.useEffect)((function(){void 0===t&&a.goBack()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement($,{drawer:!1},l.a.createElement(Ta,{group:t}),l.a.createElement(j.a.Content,{id:"lead-section",style:{padding:"1rem"}},l.a.createElement(v.a,{gutter:[16,16]},l.a.createElement(C.a,{span:"17",className:"flat-card-outline"},l.a.createElement(ya,{group:t,onFlatClick:function(e){u(null),u(e)}})),l.a.createElement(C.a,{span:"6",className:"flat-card-outline"},!o&&l.a.createElement(Aa,{group:t}),o&&l.a.createElement(ka,{group:t,flat:o,status:o.assetStatus.assetStatusId,onSuccess:function(){u(null)}}))))))},_a=[{title:"Name",width:200,render:function(e){return l.a.createElement("span",{style:{color:"#000000a6",fontWeight:"bold"}},e.assetNumber)}},{title:"Flat Value",width:150,render:function(e){return e.assetValue}},{title:"Flat Dimension",width:200,render:function(e){return e.assetDimen}},{title:"Flat Facing",width:200,render:function(e){return e.assetFacing?e.assetFacing:"-"}},{title:"Flat Status",width:200,render:function(e){return l.a.createElement("span",{style:{color:"#4c46a7",fontWeight:"bold"}},e.assetStatus.assetStatus)}}].map((function(e,a){return Object(Pe.a)({},e,{ellipsis:!0,key:a,className:"t-head"})})),Da=function(e){var a=Object(n.useState)(!1),t=Object(I.a)(a,2),r=t[0],c=t[1],s=Object(u.g)((function(e){return e.assets.getAssetById})),o=Object(u.h)((function(e){return e.assets.assetDetails}));return Object(n.useEffect)((function(){var a={id:e.id,callback:function(){c(!1)}};console.log("::LIST Assets Called::"),c(!0),s(a)}),[e.id]),l.a.createElement("div",null,l.a.createElement(S.a,{columns:_a,size:"middle",loading:r,dataSource:o,pagination:{pageSize:8}}))},Ga=ae.a.Option,Ra=function(e){var a=Object(n.useState)(0),t=Object(I.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(I.a)(s,2),i=o[0],m=o[1],d=Object(u.g)((function(e){return e.assets.getAssetGroups})),p=Object(u.h)((function(e){return e.assets.assetGroups}));return Object(n.useEffect)((function(){console.log("::LIST Assets Called::"),m(!0),d((function(){m(!1)}))}),[]),l.a.createElement($,null,l.a.createElement(v.a,{gutter:[8,8]},l.a.createElement("h5",{style:{fontFamily:"Lato",fontSize:"14px",fontWeight:"bold",color:"#150e4f"}},"All Flats"),l.a.createElement("br",null)),l.a.createElement(ha.a,{spinning:i},l.a.createElement(ae.a,{style:{width:120},onChange:function(e){c(e)},placeholder:"Select Area"},p&&p.map((function(e,a){return l.a.createElement(Ga,{key:a,value:e.assetGroupId},e.assetGroupName)})))),l.a.createElement("br",null),l.a.createElement(Da,{id:r}))},Ma=Object(u.d)(O);function Ua(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.b,{exact:!0,path:"/",component:fa}),l.a.createElement(s.b,{exact:!0,path:"/login",component:fa}),l.a.createElement(ga,{component:xe,path:"/admin/add-plot-area",exact:!0,userRole:"1"}),l.a.createElement(ga,{component:qe,path:"/agent",exact:!0,userRole:"2"}),l.a.createElement(ga,{component:pa,path:"/agent/leads",exact:!0,userRole:"2"}),l.a.createElement(ga,{component:aa,path:"/agent/overall",exact:!0,userRole:"2"}),l.a.createElement(ga,{component:ia,path:"/agent/add-lead",exact:!0,userRole:"2"}),l.a.createElement(ga,{component:Ra,path:"/agent/area-list",exact:!0,userRole:"2"}),l.a.createElement(ga,{component:de,path:"/admin",exact:!0,userRole:"1"}),l.a.createElement(ga,{component:Pa,path:"/admin/property",exact:!0,userRole:"1"}),l.a.createElement(ga,{component:Ae,path:"/admin/overall-product-report",exact:!0,userRole:"1"}),l.a.createElement(ga,{component:xe,path:"/admin/add-plot-area",exact:!0,userRole:"1"}),l.a.createElement(s.b,{path:"*",render:function(){return l.a.createElement(s.a,{to:"/login"})}}))}var Ba=function(){return l.a.createElement(o.a,null,l.a.createElement(u.a,{store:Ma},l.a.createElement(Ua,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(Ba,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[360,1,2]]]);
//# sourceMappingURL=main.debc6da4.chunk.js.map